@model JikanAnimeList;
<div>
    <h4 class="border-1 border-bottom border-white mt-2">Anime Search</h4>
</div>

<div class="d-flex justify-content-center mt-2">
    <form class="form-inline my-2 my-lg-0 w-50" asp-controller="Search" asp-action="Index" method="get">
        <input class="form-control mr-sm-2 border-1 border-white text-dark bg-secondary px-2 mt-1" name="query" value="@ViewBag.Query" type="search" placeholder="Search" aria-label="Search">
    </form>
</div>

<div class="d-flex justify-content-center gap-2 flex-wrap mt-2">
    @if (Model.Data != null)
    {
        @foreach (var anime in Model.Data)
        {
            <a class="text-decoration-none" asp-controller="Show" asp-action="Anime" asp-route-id="@anime.MalId">
                <div class="h-auto flex-shrink-0 mt-2 mx-1" style="width:11rem;">
                    <img src="@anime.Images.Jpg.ImageUrl" style="width:11rem;height:16rem;" />
                    <div class="text-wrap">
                        <div class="text-white" style="font-size:0.8rem;margin-left:8px;">
                            @anime.Title
                        </div>
                    </div>
                </div>
            </a>
        }
    }

    <div>
        @if (Model?.Pagination != null)
        {
            <div class="d-flex justify-content-center gap-2 mt-4 mb-4">
                @if (Model.Pagination.CurrentPage > 1)
                {
                    <a class="btn btn-secondary"
                       asp-controller="Search"
                       asp-action="Index"
                       asp-route-query="@ViewBag.Query"
                       asp-route-id="@(Model.Pagination.CurrentPage - 1)">
                        ← Previous
                    </a>
                }

                <span class="align-self-center text-white">
                    Page @Model.Pagination.CurrentPage of @Model.Pagination.LastVisiblePage
                </span>

                @if (Model.Pagination.HasNextPage)
                {
                    <a class="btn btn-secondary"
                       asp-controller="Search"
                       asp-action="Index"
                       asp-route-query="@ViewBag.Query"
                       asp-route-id="@(Model.Pagination.CurrentPage + 1)">
                        Next →
                    </a>
                }
            </div>
        }
    </div>
</div>