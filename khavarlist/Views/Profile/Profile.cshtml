@model ProfileView
@{
    ViewData["Title"] = "Profile";
}

<div>
    <h5 class="mt-1 br-orange">Anime List</h5>

    <div class="flex-column d-flex my-3">
        <div class="d-flex gap-3">
            <span> Duration: @Model.AnimeStats.Days Days</span>
            <span> Average Score: @Model.AnimeStats.AverageScore</span>

        </div>

        <div class="d-flex gap-3">
            <span>Watching @Model.AnimeStats.Watching </span>
            <span>Completed @Model.AnimeStats.Completed </span>
            <span>On Hold @Model.AnimeStats.OnHold </span>
            <span>Plan to Watch @Model.AnimeStats.PlanToWatch </span>
            <span>Dropped @Model.AnimeStats.Dropped </span>
        </div>
        
        <div class="d-flex gap-3">
            <span> Total Entries @Model.AnimeStats.TotalEntries</span>
            <span> Total Episodes @Model.AnimeStats.TotalEpisodes</span>
        </div>
    </div>

    @if (Model.UserAnimes != null)
    {
        <table class="table table-dark table-hover" style="table-layout:fixed;"> 
            <colgroup>
                <col style="width: 10%;">
                <col style="width: 45%;">
                <col style="width: 15%;">
                <col style="width: 15%;">
                <col style="width: 15%;">
            </colgroup>

            <thead>
                <tr>
                    <th>Image</th>
                    <th>Anime Title</th>
                    <th>Score</th>
                    <th>Progress</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var userAnime in Model.UserAnimes)
                {
                    <tr class="position-relative">
                        <td>
                            <img class="object" style="width:3rem;height:5rem;" src="@userAnime.Anime.Image" alt="@userAnime.Anime.Title" />
                        </td>
                        <td class="text-wrap">
                            <a class="text-decoration-none orange stretched-link" asp-controller="Show" asp-action="Anime" asp-route-id="@userAnime.Anime.MalId">
                                @userAnime.Anime.Title
                            </a>
                        </td>
                        <td class="orange">
                            @userAnime.Score
                        </td>
                        <td class="orange">
                            @userAnime.Progress / @userAnime.Anime.TotalEpisodes
                        </td>
                        <td class="orange">
                            @userAnime.WatchStatus
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <h5 class="mt-1 br-orange">Manga List</h5>
    @if(Model.UserMangas != null)
    {
        <div class="d-flex gap-2 justify-content-between">
            <span>Image</span>
            <span> Manga Title</span>
            <span> Score</span>
            <span>Progress</span>
            <span>Status</span>
        </div>
        @foreach(var userManga in Model.UserMangas)
        {
        
            <div class="d-flex gap-2 justify-content-between">
                <img class="w-25" src="@userManga.Manga.Image" style="width:11rem;height:16rem;" />
                <span>@userManga.Manga.Title</span>
        
                <span>@userManga.Score</span>
                <span>@userManga.Progress</span>
                <span>@userManga.ReadStatus</span>
             </div>
        }
    }
</div>