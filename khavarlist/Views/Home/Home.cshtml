@model HomeView
@{
    ViewData["Title"] = "Home Page";
}

<!--- Hero Div -->
<h1 class="mt-4 mb-2 text-center fw-bolder"> Featured Anime</h1>

<a class="text-decoration-none" asp-controller="Show" asp-action="Anime" asp-route-id="52991">
    <div class="hero">
        <div class="hero-text">
            <h3 class="fw-bold">Frieren</h3>
        </div>
    </div>
</a>

<!-- First Scroll Div -->
<div>
    <div class="br-orange d-flex justify-content-between mt-2">
        @if (Model.CurrentAnime != null)
        {
            <h5 class="text-capitalize">@Model.CurrentAnime[0].Season @Model.CurrentAnime[0].Year Anime</h5>
        }
    </div>

    <div class="scroll-container position-relative mt-1">
        <button class="scroll-arrow scroll-arrow-left">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </button>

        <div class="scroll-content d-flex gap-3 overflow-x-auto text-nowrap overflow-y-hidden">
            @if (Model.CurrentAnime != null)
            {
                @foreach (var anime in Model.CurrentAnime)
                {
                    <a class="text-decoration-none" asp-controller="Show" asp-action="Anime" asp-route-id="@anime.MalId">
                        <div class="h-auto flex-shrink-0" style="width:11rem;">
                            <img src="@anime.Images.Jpg.ImageUrl" style="width:11rem;height:16rem;" loading="lazy" />
                            <div class="text-wrap">
                                @if (anime.EnglishTitle != null)  {  <div class="text-white" style="font-size:0.8rem;margin-left:8px;"> @anime.EnglishTitle </div>  }
                                else { <div class="text-white" style="font-size:0.8rem;margin-left:8px;">@anime.Title</div>}
                            </div>
                        </div>
                    </a>
                }
            }
        </div>

        <button class="scroll-arrow scroll-arrow-right">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>
    </div>
</div>


<!--Second Scroll Div-->
<div>
    <div class="br-orange d-flex justify-content-between mt-1">
        <h5>Top Anime</h5>
        <a class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover small h-50 align-self-end orange" asp-controller="Search" asp-action="AnimeSearch" method="get">More Anime</a>
    </div>

    <div class="scroll-container position-relative mt-1">
        <button class="scroll-arrow scroll-arrow-left">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </button>

        <div class="scroll-content d-flex gap-3 overflow-x-auto text-nowrap overflow-y-hidden">
            @if (Model.TopAnime != null)
            {
                @foreach (var anime in Model.TopAnime)
                {
                    <a class="text-decoration-none" asp-controller="Show" asp-action="Anime" asp-route-id="@anime.MalId">
                        <div class="h-auto flex-shrink-0" style="width:11rem;">
                            <img src="@anime.Images.Jpg.ImageUrl" style="width:11rem;height:16rem;" loading="lazy" />
                            <div class="text-wrap">
                                @if (anime.EnglishTitle != null)  {  <div class="text-white" style="font-size:0.8rem;margin-left:8px;"> @anime.EnglishTitle </div>  }
                                else { <div class="text-white" style="font-size:0.8rem;margin-left:8px;">@anime.Title</div>}
                            </div>
                        </div>
                    </a>
                }
            }
        </div>

        <button class="scroll-arrow scroll-arrow-right">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>
    </div>

</div>

<!-- Third Scroll Div -->
<div>
    <div class="br-orange d-flex justify-content-between mt-1">
        <h5>Top Manga</h5>
        <a class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover small h-50 align-self-end orange" asp-controller="Search" asp-action="MangaSearch" method="get">More Manga</a>
    </div>

    <div class="scroll-container position-relative my-1">
        <button class="scroll-arrow scroll-arrow-left">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </button>

        <div class="scroll-content d-flex gap-3 overflow-x-auto text-nowrap overflow-y-hidden">
            @if (Model.TopManga != null)
            {
                @foreach (var manga in Model.TopManga)
                {
                    <a class="text-decoration-none " asp-controller="Show" asp-action="Manga" asp-route-id="@manga.MalId">
                        <div class="h-auto flex-shrink-0" style="width:11rem;">
                            <img src="@manga.Images.Jpg.ImageUrl" style="width:11rem;height:16rem;" loading="lazy" />
                            <div class="text-wrap">
                                @if (manga.EnglishTitle != null)  {  <div class="text-white" style="font-size:0.8rem;margin-left:8px;"> @manga.EnglishTitle </div>  }
                                else { <div class="text-white" style="font-size:0.8rem;margin-left:8px;">@manga.Title</div>}
                            </div>
                        </div>
                    </a>
                }
            }
        </div>

        <button class="scroll-arrow scroll-arrow-right">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>
    </div>
</div>

<!-- Anime Recommendation -->
<div class="mt-3">
    <div class="br-orange d-flex justify-content-between">
        <h5>Anime Recommendations</h5>
    </div>

        @if(Model.AnimeRecs != null)
        {
        <div class="rounded-4 p-2 mt-3" style="background-color:#2D2D2D;">
            <div class="d-flex flex-column flex-lg-row justify-content-around gap-3 pt-3 pb-2">
            @foreach (var animeRec in Model.AnimeRecs.Take(3))
                {
                    <div class="d-flex justify-content-around align-items-start gap-3">
                        <div class="d-flex flex-column gap-1 justify-content-start" style="width:9rem;">
                            <span class="text-center fw-bold orange"> If You Like</span>

                            <a class="text-decoration-none d-flex flex-column gap-1" asp-controller="Show" asp-action="Anime" asp-route-id="@animeRec.Entry[0].MalId">
                                <img class="align-self-center object-fit-cover rounded-2" src="@animeRec.Entry[0].Images.Jpg.ImageUrl" style="width:9rem;height:12rem;" />
                                <span class="w-100 text-wrap text-center text-white clamp-line">
                                    @animeRec.Entry[0].Title
                                </span>
                            </a>
                        </div>

                        <div class="d-flex flex-column gap-1 justify-content-center" style="width:9rem;">
                            <span class="text-center fw-bold orange" >You Might like</span>

                            <a class="text-decoration-none d-flex flex-column gap-1 " asp-controller="Show" asp-action="Anime" asp-route-id="@animeRec.Entry[1].MalId">
                                <img class="align-self-center object-fit-cover rounded-2" src="@animeRec.Entry[1].Images.Jpg.ImageUrl" style="width:9rem;height:12rem;" />
                                <span class="text-wrap text-white text-center mx-1 clamp-line" >
                                    @animeRec.Entry[1].Title
                                </span>
                            </a>
                        </div>
                    </div>
                }
            </div>
        </div>
        }
</div>

<!-- Manga Recommendation -->
<div class="mt-3">
    <div class="br-orange d-flex justify-content-between">
        <h5>Manga Recommendations</h5>
    </div>

    @if (Model.MangaRecs != null)
    {
        <div class="rounded-4 p-2 mt-3" style="background-color:#2D2D2D;">
            <div class="d-flex flex-column flex-lg-row justify-content-around gap-3 pt-3 pb-2">
                @foreach (var mangaRec in Model.MangaRecs.Take(3))
                {
                    <div class="d-flex justify-content-around align-items-start gap-3">
                        <div class="d-flex flex-column gap-1 justify-content-start" style="width:9rem;">
                            <span class="text-center fw-bold orange">If You Like</span>

                            <a class="text-decoration-none d-flex flex-column gap-1 " asp-controller="Show" asp-action="Manga" asp-route-id="@mangaRec.Entry[0].MalId">
                                <img class="align-self-center object-fit-cover rounded-2" src="@mangaRec.Entry[0].Images.Jpg.ImageUrl" style="width:9rem;height:12rem;" />
                                <span class="w-100 text-wrap text-center text-white clamp-line">
                                    @mangaRec.Entry[0].Title
                                </span>
                            </a>
                        </div>

                        <div class="d-flex flex-column gap-1 justify-content-center" style="width:9rem;">
                            <span class="text-center fw-bold orange" >You Might Like</span>

                            <a class="text-decoration-none d-flex flex-column gap-1 " asp-controller="Show" asp-action="Manga" asp-route-id="@mangaRec.Entry[1].MalId">
                                <img class="align-self-center object-fit-cover rounded-2" src="@mangaRec.Entry[1].Images.Jpg.ImageUrl" style="width:9rem;height:12rem;" />
                                <span class="text-wrap text-white text-center mx-1 clamp-line">
                                    @mangaRec.Entry[1].Title
                                </span>
                            </a>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</div>

@* <div>
    <div class="br-orange d-flex justify-content-between mt-3">
        <h5>Top Characters </h5>
    </div>

</div> *@